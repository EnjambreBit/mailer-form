<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sergio Denis - Contacto</title>
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="validate.min.js"></script>
</head>

<body>

  <form class="ui form" name="contactForm" action="sendMail" method="post">
      <h4 class="ui dividing header">Formulario de Contacto</h4>
      <div class="required field">
        <label>Nombre Completo</label>
        <input type="text" name="name" placeholder="Nombre (necesario)">
      </div>
      <div class="required field">
        <label>Email</label>
        <input type="text" name="email" placeholder="Email (necesario)">
      </div>
      <div class="field">
        <label>Asunto</label>
        <input type="text" name="subject" placeholder="Asunto">
      </div>
      <div class="required field">
        <label>Mensaje</label>
        <textarea name="message" placeholder="Mensaje" class="text-area required"></textarea>
      </div>
        <input type="hidden" name="hidden" value="">
      <button class="ui primary button" type="submit">Enviar</button>
    <div class"ui error message" id="errorArea" class="errorArea"></div>
  </form>


  <script>
    function translate(text) {
      return text.replace("The", "El campo").
                  replace("field must contain a valid email address.", "debe ser una dirección de email válida.").
                  replace("field is required.", "no puede estár vacío.");
    }

    var validator = new FormValidator('contactForm', [
      {name: 'name', display: 'Nombre', rules: 'required'},
      {name: 'message', display: 'Mensaje', rules: 'required'},
      {name: 'email', display: 'email', rules: 'required|valid_email'}
    ], function(errors, event) {
      console.log(errors);

      if (errors.length > 0) {
        var errorString = '';

        for (var i=0, errorLength=errors.length; i<errorLength; i++) {
          errorString += translate(errors[i].message) + '<br />';
        }

        var el = document.getElementById("errorArea");
        el.innerHTML = errorString;
      }
    });
  </script>

</body>
</html>
